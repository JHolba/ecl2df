

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ecl2df.compdat &mdash; ecl2df 0.13.1.dev1+gfc97b2b documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ecl2df.csv2ecl" href="ecl2df.csv2ecl.html" />
    <link rel="prev" title="ecl2df.common" href="ecl2df.common.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ecl2df
          

          
            
            <img src="../_static/equinor-logo2.jpg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.13.1.dev1+gfc97b2b
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage and examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecl2csv.html">ecl2csv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csv2ecl.html">csv2ecl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribution.html">Contributing to ecl2df</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="ecl2df.html"><code class="docutils literal notranslate"><span class="pre">ecl2df</span></code></a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ecl2df.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ecl2df.common.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.common</span></code></a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">ecl2df.compdat</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.csv2ecl.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.csv2ecl</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.ecl2csv.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.ecl2csv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.eclfiles.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.eclfiles</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.equil.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.equil</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.faults.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.faults</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.fipreports.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.fipreports</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.grid.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.grid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.gruptree.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.gruptree</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.hook_implementations.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.hook_implementations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.inferdims.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.inferdims</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.nnc.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.nnc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.parameters.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.pillars.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.pillars</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.pvt.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.pvt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.rft.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.rft</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.satfunc.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.satfunc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.summary.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.summary</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.trans.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.trans</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.version.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.version</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ecl2df.wcon.html"><code class="docutils literal notranslate"><span class="pre">ecl2df.wcon</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ecl2df</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="ecl2df.html"><code class="docutils literal notranslate"><span class="pre">ecl2df</span></code></a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">ecl2df.compdat</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/ecl2df/ecl2df.compdat.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ecl2df.compdat">
<span id="ecl2df-compdat"></span><h1><code class="docutils literal notranslate"><span class="pre">ecl2df.compdat</span></code><a class="headerlink" href="#module-ecl2df.compdat" title="Permalink to this headline">Â¶</a></h1>
<p>Extract COMPDAT, WELSEGS and COMPSEGS from an Eclipse deck</p>
<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.applywelopen">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">applywelopen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compdat_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">welopen_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#applywelopen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.applywelopen" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Apply WELOPEN actions to the COMPDAT dataframe.</p>
<p>Each record in the WELOPEN keyword acts as an operator on existing connections
in existing wells.</p>
<p>Example: COMPDAT and WELOPEN keyword:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMPDAT</span>
 <span class="s1">&#39;OP1&#39;</span> <span class="mi">33</span> <span class="mi">44</span> <span class="mi">10</span> <span class="mi">11</span> <span class="s1">&#39;OPEN&#39;</span> <span class="o">/</span>
 <span class="s1">&#39;OP2&#39;</span> <span class="mi">66</span> <span class="mi">44</span> <span class="mi">10</span> <span class="mi">11</span> <span class="s1">&#39;OPEN&#39;</span> <span class="o">/</span>
<span class="o">/</span>
<span class="n">WELOPEN</span>
 <span class="s1">&#39;OP1&#39;</span> <span class="n">SHUT</span> <span class="o">/</span>
 <span class="s1">&#39;OP2&#39;</span> <span class="n">SHUT</span> <span class="mi">66</span> <span class="mi">44</span> <span class="mi">10</span> <span class="o">/</span>
<span class="o">/</span>
</pre></div>
</div>
<p>This deck would define two wells where OP1 and OP2 have two connected grid cells
each. Although the COMPDAT defines all connections to be open, WELOPEN overwrites
this: all connections in OP1 will be SHUT and in OP2 the upper connection will
be SHUT.</p>
<p>WELOPEN can also be used at different dates and changes therefore the state of
connections without explicit use of the COMPDAT keyword. This function translates
WELOPEN actions into explicit additional COMPDAT definitions in the exported df.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compdat_df</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) â Dataframe with unrolled COMPDAT data</p></li>
<li><p><strong>welopen_df</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) â Dataframe with WELOPEN actions</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dataframe, compdat_df now including WELOPEN actions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.compdat_main">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">compdat_main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#compdat_main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.compdat_main" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Entry-point for module, for command line utility</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.deck2dfs">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">deck2dfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unroll</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#deck2dfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.deck2dfs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Loop through the deck and pick up information found</p>
<p>The loop over the deck is a state machine, as it has to pick up dates and
potential information from the WELSPECS keyword.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deck</strong> â A deck representing the schedule
Does not have to be a full Eclipse deck, an include file is sufficient</p></li>
<li><p><strong>start_date</strong> â The default date to use for
events where the DATE or START keyword is not found in advance.
Default: None</p></li>
<li><p><strong>unroll</strong> â Whether to unroll rows that cover a range,
like K1 and K2 in COMPDAT and in WELSEGS. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with dataframes, at least for COMPDAT, COMPSEGS and WELSEGS.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.df">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eclfiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initvectors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.df" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Main function for Python API users</p>
<p>Supports only COMPDAT information for now. Will
add a zone-name if a zonefile is found alongside</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pd.Dataframe with one row pr cell to well connection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.fill_parser">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">fill_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#fill_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.fill_parser" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set up sys.argv parsers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parser</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentParser</span></code>) â parser to fill with arguments</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentParser</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ecl2df.compdat.logger">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><em class="property"> <span class="pre">=</span> <span class="pre">&lt;Logger</span> <span class="pre">ecl2df.compdat</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#ecl2df.compdat.logger" title="Permalink to this definition">Â¶</a></dt>
<dd><p>OPM authors and Roxar RMS authors have interpreted the Eclipse
documentation ever so slightly different when naming the data.</p>
<p>For COMPDAT dataframe columnnames, we prefer the RMS terms due to the
one very long one, and mixed-case in opm</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.postprocess">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.postprocess" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Postprocessing of the compdat data, merging.</p>
<p>This function is NOT FINISHED</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ecl2df.compdat.unrolldf">
<span class="sig-prename descclassname"><span class="pre">ecl2df.compdat.</span></span><span class="sig-name descname"><span class="pre">unrolldf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'K1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'K2'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ecl2df/compdat.html#unrolldf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ecl2df.compdat.unrolldf" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Unroll dataframes, where some column pairs indicate
a range where data applies.</p>
<p>After unrolling, column pairs with ranges are transformed
into multiple rows, with no ranges.</p>
<p>Example: COMPDAT supports K1, K2 intervals for multiple cells:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMPDAT</span>
  <span class="s1">&#39;OP1&#39;</span> <span class="mi">33</span> <span class="mi">44</span> <span class="mi">10</span> <span class="mi">11</span> <span class="o">/</span>
<span class="o">/</span>
</pre></div>
</div>
<p>is transformed/unrolled so it would be equal to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMPDAT</span>
  <span class="s1">&#39;OP1&#39;</span> <span class="mi">33</span> <span class="mi">44</span> <span class="mi">10</span> <span class="mi">10</span> <span class="o">/</span>
  <span class="s1">&#39;OP1&#39;</span> <span class="mi">33</span> <span class="mi">44</span> <span class="mi">11</span> <span class="mi">11</span> <span class="o">/</span>
<span class="o">/</span>
</pre></div>
</div>
<p>The latter is easier to work with in Pandas dataframes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dframe</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) â Dataframe to be unrolled</p></li>
<li><p><strong>start_column</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) â Column name that contains the start of
a range.</p></li>
<li><p><strong>Column name that contains the corresponding end</strong> (<em>end_column</em>) â of the range.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dataframe, unrolled version. Identical to input if none of
rows had any ranges.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ecl2df.csv2ecl.html" class="btn btn-neutral float-right" title="ecl2df.csv2ecl" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ecl2df.common.html" class="btn btn-neutral float-left" title="ecl2df.common" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Equinor 2019-2021.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #ff1243;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #474747;
    }
    .wy-side-nav-search > div.version {
      color: white;
    }
  </style>


</body>
</html>